<!DOCTYPE html>
<html lang="en">

<head><meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<link href="https://fonts.googleapis.com/css?family=Merriweather:300|Raleway:400,700" rel="stylesheet">
<link rel="stylesheet" href="/assets/css/style.css">
<!-- <link rel="stylesheet" href="https://unpkg.com/spectre.css/dist/spectre.min.css">
<link rel="stylesheet" href="https://unpkg.com/spectre.css/dist/spectre-exp.min.css">
<link rel="stylesheet" href="https://unpkg.com/spectre.css/dist/spectre-icons.min.css"> -->
<link rel="shortcut icon" href="/assets/favicon.ico">
<title>求索</title>
<!-- Begin Jekyll SEO tag v2.1.0 -->
<title>求索 - 尔不必求记，却宜求个明白！</title>
<meta property="og:title" content="求索" />
<meta name="description" content="尔不必求记，却宜求个明白！" />
<meta property="og:description" content="尔不必求记，却宜求个明白！" />
<link rel="canonical" href="http://localhost:4000/blog/4/" />
<meta property="og:url" content="http://localhost:4000/blog/4/" />
<meta property="og:site_name" content="求索" />
<link rel="prev" href="http://localhost:4000/blog/3">
<link rel="next" href="http://localhost:4000/blog/5">
<script type="application/ld+json">
{"@context": "http://schema.org",
"@type": "WebPage",
"headline": "求索",
"description": "尔不必求记，却宜求个明白！",
"url": "http://localhost:4000/blog/4/"}</script>
<!-- End Jekyll SEO tag -->
</head>

<body>
	<main class="container">
		<section class="about">
			<a href="/"><img src="/assets/profile.png" alt="Mingxu.Xie"></a>
			<h2>Mingxu.Xie</h2>
			<p class="tagline">Devops</p>
			<ul class="social">
				<a href="https://github.com/xiemx">
					<li><i class="icon-github-circled"></i></li>
				</a>
				<a href="https://www.linkedin.com/in/xiemx1991">
					<li><i class="icon-linkedin-squared"></i></li>
				</a>
				<a href="https://twitter.com/xiemx1991">
					<li><i class="icon-twitter-squared"></i></li>
				</a>
			</ul>
			<p>&copy; 尔不必求记，却宜求个明白！</p>
			<div>
				<div class="categories">
					<h4>Categories</h4>
					<ul>
						<a href="/">
							<li>Index</li>
						</a>
						<a href="/pages/about.html">
							<li>About</li>
						</a>
						<a href="/pages/archive.html">
							<li>Archive</li>
						</a>
						<a href="/blog/">
							<li>Blogs</li>
						</a>
						<a href="/pages/commands.html">
							<li>Commands</li>
						</a>
					</ul>
				</div>
				<div class="tags" style="width:200px;white-space:normal">
					<h4>Tag Cloud:</h4>
					<a href="/tag/cluster/" class="set-1">cluster</a> <a href="/tag/command/" class="set-1">command</a> <a href="/tag/deployment/" class="set-1">deployment</a> <a href="/tag/domain/" class="set-1">domain</a> <a href="/tag/http/" class="set-1">http</a> <a href="/tag/iis/" class="set-1">iis</a> <a href="/tag/issue/" class="set-1">issue</a> <a href="/tag/memcache/" class="set-1">memcache</a> <a href="/tag/mime-type/" class="set-1">mime-type</a> <a href="/tag/mongo/" class="set-1">mongo</a> <a href="/tag/monitor/" class="set-1">monitor</a> <a href="/tag/mysql/" class="set-1">mysql</a> <a href="/tag/python/" class="set-1">python</a> <a href="/tag/scripts/" class="set-1">scripts</a> <a href="/tag/shell/" class="set-1">shell</a> <a href="/tag/statuscode/" class="set-1">statusCode</a> <a href="/tag/uwsgi/" class="set-1">uwsgi</a> <a href="/tag/vagrant/" class="set-1">vagrant</a> <a href="/tag/vcenter/" class="set-1">vcenter</a> <a href="/tag/windows/" class="set-2">windows</a> <a href="/tag/zabbix/" class="set-5">zabbix</a> <a href="/tag/zentaopms/" class="set-1">zentaopms</a>
				</div>
			</div>
		</section>
		<section class="content">
			<div class="post-container">
    <div class="post">
        <!-- 遍历分页后的文章 -->

<h1><a href="/2016/07/27/domain-status-code">域名状态含义</a></h1>
<p class="author">
  <span class="date">2016-07-27 19:07:26 +0800</span>
</p>
<div class="content">
  <p>新注册的域名，可能出现以下状态：</p>


</div>

<h1><a href="/2016/07/26/uwsgi-invalid-option-x-getopt_long-error">uwsgi 报错 invalid option --“x” getopt_long() error</a></h1>
<p class="author">
  <span class="date">2016-07-26 19:07:34 +0800</span>
</p>
<div class="content">
  <h3 id="报错">报错：</h3>


</div>

<h1><a href="/2016/06/29/zabbix-alert-to-wechat-script">zabbix微信报警脚本</a></h1>
<p class="author">
  <span class="date">2016-06-29 18:06:55 +0800</span>
</p>
<div class="content">
  <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#!/usr/bin/python
</span>
<span class="n">__author__</span> <span class="o">=</span> <span class="s">'xiemx'</span>

<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">json</span><span class="p">,</span><span class="n">requests</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">logging</span>

<span class="k">class</span> <span class="nc">Weixin</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

<span class="err">   </span> <span class="k">def</span> <span class="nf">get_token</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="err">       </span> <span class="n">CorpID</span> <span class="o">=</span> <span class="s">'-------4fa4'</span>
<span class="err">       </span> <span class="n">Secret</span> <span class="o">=</span> <span class="s">'Aew6oxx-----------FaTClkjXlmw_zH'</span>
<span class="err">       </span> <span class="n">token_url</span> <span class="o">=</span> <span class="s">'https://qyapi.weixin.qq.com/cgi-bin/gettoken?corpid={}&amp;corpsecret={}'</span><span class="o">.</span><span class="nb">format</span><span class="p">(</span><span class="n">CorpID</span><span class="p">,</span> <span class="n">Secret</span><span class="p">)</span>
<span class="err">       </span> <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">token_url</span><span class="p">,</span> <span class="n">verify</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span><span class="o">.</span><span class="n">content</span>
<span class="err">       </span> <span class="n">p</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
<span class="err">       </span> <span class="n">token</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="s">'access_token'</span><span class="p">]</span>
<span class="err">       </span> <span class="k">return</span> <span class="n">token</span>

<span class="err">   </span> <span class="k">def</span> <span class="nf">send_msg</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_id</span><span class="p">,</span> <span class="n">msg</span><span class="p">):</span>
<span class="err">       </span> <span class="n">token</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_token</span><span class="p">()</span>
<span class="err">       </span> <span class="n">url</span> <span class="o">=</span> <span class="s">'https://qyapi.weixin.qq.com/cgi-bin/message/send?access_token={}'</span><span class="o">.</span><span class="nb">format</span><span class="p">(</span><span class="n">token</span><span class="p">)</span>
<span class="err">       </span> <span class="n">send_content</span><span class="o">=</span><span class="p">{</span>
<span class="err">           </span> <span class="s">"touser"</span><span class="p">:</span> <span class="n">user_id</span><span class="p">,</span>
<span class="err">           </span> <span class="s">"msgtype"</span><span class="p">:</span> <span class="s">"text"</span><span class="p">,</span>
<span class="err">           </span> <span class="s">"agentid"</span><span class="p">:</span> <span class="s">"2"</span><span class="p">,</span>
<span class="err">           </span> <span class="s">"text"</span><span class="p">:</span> <span class="p">{</span>
<span class="err">              </span> <span class="s">"content"</span><span class="p">:</span> <span class="n">msg</span>
<span class="err">           </span> <span class="p">},</span>
<span class="err">           </span> <span class="s">"safe"</span><span class="p">:</span><span class="s">"0"</span>
<span class="err">           </span> <span class="p">}</span>
<span class="err">       </span> 
<span class="err">       </span> <span class="n">p</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">verify</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">send_content</span><span class="p">))</span>
<span class="err">       </span> <span class="k">print</span> <span class="n">p</span><span class="o">.</span><span class="n">content</span>
<span class="err">       </span> <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s">"weixin send success"</span><span class="p">)</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">"__main__"</span><span class="p">:</span>
<span class="err">   </span> <span class="n">user_id</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="err">   </span> <span class="n">msg</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="s">'</span><span class="se">\n</span><span class="s">'</span> <span class="o">+</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
<span class="err">   </span> <span class="n">weixin</span> <span class="o">=</span> <span class="n">Weixin</span><span class="p">()</span>
<span class="err">   </span> <span class="n">weixin</span><span class="o">.</span><span class="n">send_msg</span><span class="p">(</span><span class="n">user_id</span><span class="p">,</span> <span class="n">msg</span><span class="p">)</span>
</code></pre></div></div>

</div>

<h1><a href="/2016/06/29/zabbix-monitor-port">zabbix监控指定端口</a></h1>
<p class="author">
  <span class="date">2016-06-29 18:06:32 +0800</span>
</p>
<div class="content">
  <p>1.登陆zabbix主界面</p>


</div>

<h1><a href="/2016/04/13/deploy-zabbix_agent-to-windows">window系统上部署Zabbix_agent</a></h1>
<p class="author">
  <span class="date">2016-04-13 17:04:53 +0800</span>
</p>
<div class="content">
  <p>1.获取windows的agent客户端，解压文件至指定位置</p>


</div>



<div class="pagination">
  
  <a href="/blog/3">&laquo; Prev</a>
  

  
  
  <a href="/blog/">1</a>
  
  
  
  <a href="/blog/2">2</a>
  
  
  
  <a href="/blog/3">3</a>
  
  
  
  <em>4</em>
  
  
  
  <a href="/blog/5">5</a>
  
  
  
  <a href="/blog/6">6</a>
  
  

  
  <a href="/blog/5">Next &raquo;</a>
  
</div>

    </div>
</div>
		</section>
	</main></body>

</html>